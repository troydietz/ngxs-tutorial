<form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    Valid: <span [class.isFormValid]="profileForm.valid" [class.isFormInvalid]="!profileForm.valid">
    {{profileForm.valid}}
    </span><br>
    <mat-form-field>
        <input matInput placeholder="First Name:" formControlName="firstName">
    </mat-form-field><br>

    <mat-form-field>
        <!-- we could have used [formControl]="profileForm.controls.lastName instead. -->
        <!-- formControlName is a shortcut -->
        <input matInput placeholder="Last Name:" formControlName="lastName" #lastName>
    </mat-form-field><br>

    <mat-form-field>
        <input matInput placeholder="Email:" formControlName="email" #email><br>
        Errors: <pre>{{getEmailErrors()}}</pre>
    </mat-form-field><br>

    <div formGroupName="address">
        <h3>Address</h3>

        <label>
            Street:
            <input type="text" formControlName="street">
        </label>

        <label>
            City:
            <input type="text" formControlName="city">
        </label>

        <label>
            State:
            <input type="text" formControlName="state">
        </label>

        <label>
            Zip Code:
            <input type="text" formControlName="zip">
        </label>
    </div>

    <p>
        <button (click)="updateProfile()">Update Profile</button>
    </p>
    <button type="submit" [disabled]="!profileForm.valid">Submit</button>
</form>